# Environment Configuration for Voice Gateway with OpenWakeWord

# Node Environment
NODE_ENV=development

# Logging
LOG_LEVEL=info

# OpenWakeWord Configuration
# No API key required! OpenWakeWord is completely free and open-source
OWW_MODEL_PATH=models/hey_jarvis_v0.1.onnx
# Threshold: 0.5 is standard, but you may need to lower to 0.01-0.05 for initial testing
# macOS users: Try 0.01 first, adjust based on scores you see in logs
# Raspberry Pi: 0.5 should work well
OWW_THRESHOLD=0.01
OWW_INFERENCE_FRAMEWORK=onnx

# Audio Configuration
# Use plughw instead of hw to enable automatic sample rate conversion
# This is critical for USB mics that don't natively support 16kHz
AUDIO_MIC_DEVICE=plughw:2,0
AUDIO_SPEAKER_DEVICE=hw:2,0
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1

# Voice Activity Detection (VAD)
VAD_TRAILING_SILENCE_MS=1500
VAD_MAX_UTTERANCE_MS=10000

# Whisper Speech-to-Text
WHISPER_MODEL=base
WHISPER_MODEL_PATH=models/ggml-base.bin

# MQTT Broker
MQTT_BROKER_URL=mqtt://10.0.0.58:31883
MQTT_CLIENT_ID=voice-gateway-oww
MQTT_USERNAME=
MQTT_PASSWORD=

# Health Check
HEALTHCHECK_PORT=3002
