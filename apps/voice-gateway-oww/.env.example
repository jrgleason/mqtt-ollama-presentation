# Environment Configuration for Voice Gateway with OpenWakeWord

# Node Environment
NODE_ENV=development

# Logging
LOG_LEVEL=info

# OpenWakeWord Configuration
# No API key required! OpenWakeWord is completely free and open-source
OWW_MODEL_PATH=models/hey_jarvis_v0.1.onnx
# Threshold: 0.5 is standard, but you may need to lower to 0.01-0.05 for initial testing
# macOS users: Try 0.01 first, adjust based on scores you see in logs
# Raspberry Pi: 0.5 should work well
OWW_THRESHOLD=0.01
OWW_INFERENCE_FRAMEWORK=onnx

# Audio Configuration
AUDIO_MIC_DEVICE=hw:2,0
AUDIO_SPEAKER_DEVICE=hw:2,0
AUDIO_SAMPLE_RATE=16000
AUDIO_CHANNELS=1
# Beep volume (0.0-1.0, default: 0.3 for 30% volume)
BEEP_VOLUME=0.3

# Voice Activity Detection (VAD)
VAD_TRAILING_SILENCE_MS=1500
VAD_MAX_UTTERANCE_MS=10000

# Whisper Speech-to-Text
# tiny model: Fast (1.5s), good accuracy for clear speech (recommended)
# base model: Slower (6s), better accuracy in noisy environments
WHISPER_MODEL=tiny
WHISPER_MODEL_PATH=models/ggml-tiny.bin

# MQTT Broker
MQTT_BROKER_URL=mqtt://localhost:1883
MQTT_CLIENT_ID=voice-gateway-oww
MQTT_USERNAME=
MQTT_PASSWORD=

# Health Check
HEALTHCHECK_PORT=3002

# Ollama AI Configuration
OLLAMA_BASE_URL=http://localhost:11434
# qwen2.5:0.5b - Fastest (1s), good for simple queries (recommended for voice)
# qwen2.5:1.5b - Better accuracy (4.6s), use if quality matters more than speed
# qwen3:1.7b - Legacy model, not recommended (14s, superseded by qwen2.5)
OLLAMA_MODEL=qwen2.5:0.5b

# Text-to-Speech (Piper TTS)
# Set to false to disable TTS output
TTS_ENABLED=true
# Path to Piper voice model (.onnx file)
# Download voices with: python3 -m piper.download_voices en_US-amy-medium
TTS_MODEL_PATH=models/piper/en_US-amy-medium.onnx
# Volume (0.0 to 1.0)
TTS_VOLUME=1.0
# Speed multiplier (0.5 = slower, 2.0 = faster)
# 3.0 recommended for faster responses (1.7s vs 5s)
TTS_SPEED=3.0

# Z-Wave MCP Server Configuration
# URL to zwave-js-ui instance (HTTP API)
# Z-Wave JS UI runs on port 8091 by default
# Example: http://10.0.0.58:8091 or http://localhost:8091
ZWAVE_UI_URL=http://localhost:8091
# Authentication (optional, set ZWAVE_UI_AUTH_ENABLED=true if needed)
ZWAVE_UI_AUTH_ENABLED=false
ZWAVE_UI_USERNAME=
ZWAVE_UI_PASSWORD=
# Socket timeout in milliseconds (optional)
ZWAVE_UI_SOCKET_TIMEOUT_MS=30000
